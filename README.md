# Where to Go

**Where to Go** — это веб-приложение на Django для отображения интересных мест на интерактивной карте.  
Вы можете добавлять точки на карте, снабжая их описаниями и фотографиями, чтобы делиться красивыми и увлекательными локациями.  

## Описание проекта

Проект представляет собой интерактивную карту, на которой отмечены разнообразные места. Каждое место содержит:
- **Название**  
- **Краткое описание**  
- **Подробное описание**  
- **Координаты** (широта и долгота)  
- **Фотогалерею**  

Приложение предоставляет удобный интерфейс для просмотра мест и административную панель для управления контентом.

---

## Используемые технологии

- **Python 3.11**
- **Django 4.2**
- **HTML/JavaScript**
- **Pillow** для работы с изображениями  
- **django-admin-sortable2** для сортировки фотографий  
- **django-tinymce** для форматирования текста  

---

## Установка и запуск

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/aqwarius2003/where_to_go.git
   ```

2. **Создайте и активируйте виртуальное окружение:**
   - Для Linux/Mac:
     ```bash
     python -m venv venv
     source venv/bin/activate
     ```
   - Для Windows:
     ```bash
     python -m venv venv
     venv\Scripts\activate
     ```

3. **Установите зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

4. **Создайте файл `.env` в корневой директории проекта и добавьте следующие параметры:**
   ```
   SECRET_KEY=ваш_секретный_ключ
   DEBUG=True
   ALLOWED_HOSTS=localhost,127.0.0.1
   ```

5. **Выполните миграции:**
   ```bash
   python manage.py migrate
   ```

6. **Запустите сервер:**
   ```bash
   python manage.py runserver
   ```

Теперь приложение доступно по адресу: [http://127.0.0.1:8000/](http://127.0.0.1:8000/)

---

## Административная панель

Для управления местами и фотографиями используется административная панель Django.  

1. **Создайте суперпользователя:**
   ```bash
   python manage.py createsuperuser
   ```

2. **Перейдите по адресу:**
   [http://127.0.0.1:8000/admin/](http://127.0.0.1:8000/admin/)  

В админ-панели вы можете:
- Добавлять новые места  
- Загружать и сортировать фотографии  
- Редактировать описания с помощью визуального редактора TinyMCE  

---

## Структура проекта

- `places/models.py` — модели данных для мест и фотографий  
- `places/admin.py` — настройки административной панели  
- `places/views.py` — представления для отображения карты и данных  
- `where_to_go/settings.py` — основные настройки проекта  

---

## Добавление локаций из JSON-файлов
Команда load_place позволяет загружать данные о локациях из JSON-файлов в базу данных. Вы можете использовать следующие типы ссылок:

Одиночная ссылка на JSON-файл: Укажите URL, который ведет непосредственно на JSON-файл. Ссылка не обязательно должна быть в формате RAW, так как скрипт автоматически преобразует её в нужный формат.
   ```bash
   python manage.py load_place https://github.com/your-repo/your-file.json
   ```

Несколько ссылок через пробел: Укажите несколько URL, разделенных пробелами. Это позволяет загружать данные из нескольких JSON-файлов за один запуск команды.
   ```bash
   python manage.py load_place https://github.com/your-repo/file1.json https://github.com/your-repo/file2.json
   ```

Ссылка на GitHub-страницу с JSON-файлами: Укажите URL на страницу GitHub, где опубликованы ссылки на JSON-файлы. Скрипт автоматически извлечет и обработает все ссылки на JSON-файлы, найденные на этой странице.
   ```bash
  python manage.py load_place https://github.com/devmanorg/where-to-go-places/tree/master/places
   ```

Примечания
- Скрипт автоматически преобразует ссылки из формата GitHub в формат RAW, если это необходимо.
- Если локация с таким же названием уже существует в базе данных, она не будет добавлена повторно.
- Фотографии, связанные с локацией, также загружаются и сохраняются в базе данных, если они ещё не существуют.

## Лицензия

Проект распространяется под лицензией [**MIT**](https://github.com/Skripko-A/enjoymap/blob/master/LICENSE). Вы можете свободно использовать и изменять код в соответствии с условиями лицензии.

---
